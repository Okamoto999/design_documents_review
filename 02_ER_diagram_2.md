# ER図2
## 全体
- 関連を表す線(1対多)の部分の1となる部分に縦線を入れていただくと、みやすくなります

- 「カートアイテム」と「商品詳細」テーブルの間を少し空けた方がみやすいです

- 商品の入荷はどこで行いますか

## 管理者
- PKが設定されていません
  - PKは１つのテーブルにつき、１つ必要です
- 管理者が他のテーブルと関連づいていますが大丈夫ですか？
  - 管理者が消えてしまうと、全てのエンドユーザ、商品も消えてしまいます
  
## エンドユーザー
- 名前の「名」が抜けている

- PK名「エンドユーザーID」にした方がいい

- エンドユーザーの持つ住所は１つだけでしょうか
  - 他に送る先がある場合は１回１回手打ちで入力することになります
  
## カートアイテム
- PKがない

- 「小計金額」は、カート内アイテムの「枚数*値段」で求めることができる

## 曲名
- 曲がディスクの何番目に入っているかわかりますか？
  - 曲を再生するときに困ります
  
## ディスク
- トラックナンバーはこのテーブルに適した命名でしょうか
  - トラックナンバーは、ディスクに入っている曲の番号を表すものです

## ジャンル
- ジャンルカラムの命名は適していますか？
  - 何を表しているのかが不明確です

## レーベル
- レーベルカラムの命名は適していますか？
  - 何を表しているのかが不明確です
  
## 商品
- 在庫数はデータとして必要ですか
  - 入荷枚数-購入数で計算できます、それに伴いカラムの追加が必要になります 
  
- ステータス（取り扱い）は何を示していますか
  - もう少し明確な命名の方が適しています
  
- 曲は複数のディスクを持たない

- 発売日が不明
  
## 購入
- 購入後のデータは保存されなくて大丈夫でしょうか
  - 購入したデータが見れないと困ります
  
- 管理者目線のテーブル名にしてください（注文とか）

- お支払い合計は「送料+小計でだせる」

- 購入詳細が複数の購入を持つのはおかしい
  
## 購入詳細
- テーブル名は、購入履歴とかの方が良い
  

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


# 担当者レビュー
- 再提出の際、以下は残しておいてください。

## ディスク
- 自明ではありますが、現在の曲名とのリレーションが逆であることを書いておきましょう。
  - 今やっているのはあくまで問題抽出であるためです。

## 購入
- お支払い合計は例外で必要になります。(※以下テンプレ)
  - 注文明細のデータを計算すれば算出できる値ですが、証跡として計算結果を残しておくことが多いです（計算できる値は原則DBに持ちませんが、お金のことは細心の注意が必要です）。
    - 「顧客に請求した金額と、その内訳を店側で説明できるようにしておく」必要があります。
- 購入日は他の情報から参照できないでしょうか。

## 購入詳細
- テーブル名は管理者視点になっていないことが問題です。
  - "購入履歴の方がいい"とのことですが、1注文が複数の履歴を持つことはないはずです。
- ここに購入時の商品情報をもつべきなので、購入後のデータ云々は(問題抽出時は)購入項ではなくこちらに書いた方がベターです。
