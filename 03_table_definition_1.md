# テーブル定義書1
## 全体
- テーブル名の命名は小文字から始まり、複数系にする必要があります。例）users

- 単語の間に空白がある場合はスネークケースも必要になります 例)cart_items

- 全テーブルのPKにおいて、AUTO_INCREMENT、INDEXにはデフォルトで◯が入っています

- 各テーブルに必ず１つ必要なPKに◯が一つも入って無い箇所があります

- 各テーブルのPKになるカラム名は適切でしょうか

- 各テーブルにおけるcreated_at,updated_atのカラム説明は適切な命名ですか？

- 入荷用の情報を管理できることが好ましいです

## Users
- 郵便番号、電話番号のデータ型は適切ではありません

- 名前（名、名カナ）のNOT NULLに◯がありません

- l_name,f_nameのように文字を省略する命名は正しいですか？

- member_statusのカラム名の命名は適切ですか？

- 退会ステータスのデータは「退会しているor退会していない」の二択です。現在のデータ型は適切でしょうか。

- 現在の設計において、配送先を複数登録することは可能でしょうか

## Products
- 本来FKに◯が必要なところに◯が入っていません

- 「notax」は２語です、カラムの命名規則に沿って「no_tax」にしましょう

- ジャケットのデータ型が適切ではありません

- cd_imageがrefileを使っている場合、_idの追記が必要になります

- stock_statusは在庫数から判断できるため不要です

- stockは（入荷数-購入数）から計算できるため不要です。

- Discsとの関係は適切ですか？

## Discs

- FKの命名は適切ですか？

- 「track_num」の意味はこのテーブルで適切でしょうか

## Songs
- 曲名のデータ型は正しいですか？

- 曲の順番はどのように管理しますか？

## Labels
- productsとの関係性は適切ですか？

- 商品idのカラム名は単数系が適切です

- labelsテーブルのidが存在しません。また、PKが存在しません。


## Artists
- productsテーブルとの関係性は適切ですか？

- 商品idのカラム名は単数系が適切です

- artistカラムのデータ型は適切でしょうか？

- FKにAUTo INCREMENTは必要でしょうか？

- artistテーブルのidが存在しません。また、PKが存在しません。

## Genre
- 商品idのカラム名は単数系が適切です

- productsテーブルとの関係性は適切ですか？

- artistテーブルのidが存在しません。また、PKが存在しません。

- FKにAUTo INCREMENTは必要でしょうか？

- ジャンル名のデータ型は適切でしょうか

## Cart item
- 商品idのカラム名は単数系が適切です

- products_idにデータ型がありません

- 「小計金額」をデータとして保存することは適切ですか？

- 「buy num」のように文字を省略する命名は適切ではありません

## Buy

- buyテーブルの命名は適していますか

- buy_detailsとの関係性は適切ですか？

- 「pay,stock」の命名は適切ですか？

- 購入者の住所、郵便番号を管理するカラムが存在しません

- お支払い方法のデータ型が好ましくありません

## Buy details

- テーブル名の命名は適していますか？

- 「buy num」のように文字を省略する命名は適切ではありません

- 購入時と現在の価格が常に同じでしょうか？

- 商品idがありません

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


# 研修担当レビュー
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## 全体
- 具体的に命名規則のどの部分に反しているのか明示してください。(前回)
> テーブル名の命名は小文字から始まり、複数系にする必要があります。例）users
  - と回答されていますが、"Cart item"のように空白が入っているのもNGです。
    - スネークケースも必要になります。→cart_items
- カラムの命名規則は正しいですか？(前回)
  - 追記: カラム名に接頭辞は不要です。
    - 例えばusersテーブルのuser_telカラムは、telで十分であり、"user_"という接頭辞は冗長で、カラム名が長くなるので避けた方が無難になります。
    - x @user.user_tel → o @user.tel
  - ですので、該当テーブルでこのことを指摘しましょう。

## user
- 現在の設計で、配送先を複数登録できますでしょうか。

## products
- discs項で
> Productsとの関係は適切ですか？
- とありますが、今は商品、ディスクが互いのFKを持っている状態になります。
  - ディスクに商品idは必要であり、逆に商品にディスクidが不要なので、この指摘はproductsでするべきです。

## discs
- track_noの用途は適切でしょうか。
  - 言葉自体の意味を今一度ご確認ください。

## songs
- song_nameと修正案として提示していますがそのカラムの命名は正しいですか？(前回)
  - 追記: 全体項で「カラム名に接頭辞は不要」と申し上げた通り、ここでは"song_"はつかうべきでなく、例えばnameが適切です。

## labels
- label_nameと修正案として提示していますがそのカラムの命名は正しいですか？(前回)
  - 追記: songs同様。

## artists
- artist_nameと修正案として提示していますがそのカラムの命名は正しいですか？(前回)
  - 追記: songs同様。

## genres
- genre_nameと修正案として提示していますがそのカラムの命名は正しいですか？(前回)
  - 追記: songs同様。
- ジャンル名のデータ型は適切でしょうか。

## buy
- buyテーブルの命名は適していますか？(前回)
  - 追記: buyは"購入"です。管理者視点になっていません。
- 購入者の郵便番号を管理するカラムがありません。(前回)
  - 追記:住所も抜けています。※指摘漏れ
- 支払い方法のデータ型が不適当です。
   - string型だと、例えば"銀行振込"→"振込"に変更したいなど、複数レコードを更新する際に非常に手間です。
     - 加えてstring型だと全角文字でデータサイズが大きくなり、DBに不可がかかるため、enumでintegerにするのが適当になります。

## buy_details 
- テーブルの命名は適していますか？(前回)
  - 追記: buy_detailsは"購入詳細"です。管理者視点になっていません。
- 商品テーブルとのリレーションがありませんが、購入履歴はどのように保存しますか。(前回)
  - 追記: ER図02で指摘しましたが商品idがないと色々と不都合なので、レビュー時に分かりやすく書いていただければと。
    - 問題指摘的には"商品idがない"でOKです。
